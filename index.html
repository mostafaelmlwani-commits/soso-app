<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soso Video Review</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: sans-serif;
            background-color: var(--tg-theme-bg-color, #fff); /* ÙŠØ§Ø®Ø¯ Ù„ÙˆÙ† ØªÙ„ÙŠØ¬Ø±Ø§Ù… */
            color: var(--tg-theme-text-color, #000);
            padding: 20px;
            text-align: center;
        }
        video {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        textarea {
            width: 90%;
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            height: 80px;
        }
        button {
            background-color: var(--tg-theme-button-color, #3390ec); /* Ù„ÙˆÙ† Ø²Ø±Ø§Ø± ØªÙ„ÙŠØ¬Ø±Ø§Ù… */
            color: var(--tg-theme-button-text-color, #fff);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            margin-top: 15px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }
    </style>
</head>
<body>

    <h3>ğŸ¬ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</h3>
    
    <video controls id="videoPlayer">
        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
        Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
    </video>

    <div id="status"></div>

    <textarea id="feedback" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù‡Ù†Ø§..."></textarea>

    <button onclick="sendFeedback()">âœ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>

    <script>
        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù€ Mini App
        const tg = window.Telegram.WebApp;
        tg.expand(); // ÙŠÙØªØ­ Ø§Ù„Ø´Ø§Ø´Ø© ÙƒØ§Ù…Ù„Ø©

        function sendFeedback() {
            const feedbackText = document.getElementById("feedback").value;
            if (!feedbackText) {
                alert("Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø£ÙˆÙ„!");
                return;
            }

            // Ù‡Ù†Ø§ Ø¨Ù‚Ù‰ Ø§Ù„Ø³Ø­Ø±: Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨ÙŠØ¨Ø¹Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¨ÙˆØª
            const data = {
                action: "VIDEO_FEEDBACK",
                text: feedbackText,
                timestamp: document.getElementById("videoPlayer").currentTime
            };

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… ÙˆÙ‚ÙÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
            tg.sendData(JSON.stringify(data)); 
        }
    </script>
</body>
</html>